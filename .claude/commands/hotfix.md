---
description: mainブランチからhotfixブランチを作成し、緊急バグ修正に対応します。
---

## ユーザー入力

```text
$ARGUMENTS
```

## 概要

トリガーメッセージで`/hotfix`コマンドを実行すると、以下の処理が実行されます：

1. mainブランチの最新状態を確認
2. hotfix/xxx ブランチを作成（xxxはバグ説明）
3. ユーザーに修正作業を案内

## 前提条件

- mainブランチが存在し、本番環境相当である
- GitHub CLIがインストールされ、認証済みである
- 緊急修正が必要な本番バグが発生している

## 実行手順

### 1. create-hotfix.sh スクリプトを実行

リポジトリルートから以下のコマンドを実行します：

```bash
.specify/scripts/bash/create-hotfix.sh "$ARGUMENTS"
```

`$ARGUMENTS` には、バグの簡単な説明を渡します（例: "login-error", "api-crash"）。

### 2. 結果を確認して報告

スクリプトの出力を解析し、以下の情報をユーザーに報告します：

- 作成されたhotfixブランチ名（例: `hotfix/login-error`）
- 次のステップの説明

### 3. 修正作業のガイダンス

ユーザーに以下を案内します：

1. hotfixブランチで修正を実施
2. テストを実行して修正を確認
3. コミット＆プッシュ
4. mainへのPR作成（自動マージ対象）
5. マージ後、developへも自動的にマージされる

## 完了メッセージ

スクリプトが成功した場合、以下のようなメッセージを表示します：

```
✓ Hotfixブランチ hotfix/xxx を作成しました

次のステップ:
1. このブランチで緊急修正を実施してください
2. テストを実行して修正を確認してください
3. 修正をコミット＆プッシュしてください
4. mainへのPRを作成してください（gh pr create --base main --head hotfix/xxx）
5. CIチェックが成功すると、自動的にmainへマージされます
6. mainへのマージ後、自動的にdevelopへもマージされます
```

## 注意事項

- このコマンドは緊急バグ修正のためのものです
- hotfixブランチはmainから作成されます
- 修正後はmain と develop の両方にマージされます
- 通常の機能開発はfeatureブランチを使用してください
